<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Round Management Game</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 20px; }
        .round-info { margin: 20px; }
        .scoring { margin: 20px; }
        .scoring input { margin: 5px; width: 100px; }
        button { padding: 10px 20px; margin: 10px; }
        button:disabled { background-color: #ccc; }
    </style>
</head>
<body>
    <h1>Round Management Game</h1>
    <div class="round-info">
        <p>Current Round: <span id="current-round">1</span></p>
        <p>Hands in this Round: <span id="hands">1</span></p>
        <p id="game-status"></p>
    </div>
    <div class="scoring" id="scoring-section">
        <h3>Enter Scores for Each Hand:</h3>
        <div id="score-inputs"></div>
        <button id="submit-scores" onclick="submitScores()">Submit Scores</button>
    </div>
    <button id="advance-round" onclick="advanceRound()" disabled>Advance to Next Round</button>
    <script src="src/roundManager.js"></script>
    <script>
        const roundManager = new RoundManager();
        updateDisplay();

        function updateDisplay() {
            document.getElementById('current-round').textContent = roundManager.currentRound;
            document.getElementById('hands').textContent = roundManager.getHandsForRound();
            const inputsDiv = document.getElementById('score-inputs');
            inputsDiv.innerHTML = '';
            for (let i = 0; i < roundManager.getHandsForRound(); i++) {
                const input = document.createElement('input');
                input.type = 'number';
                input.placeholder = `Score for Hand ${i + 1}`;
                input.id = `score-${i}`;
                inputsDiv.appendChild(input);
            }
            document.getElementById('submit-scores').disabled = false;
            document.getElementById('advance-round').disabled = true;
            if (roundManager.isGameOver()) {
                document.getElementById('game-status').textContent = 'Game Over!';
                document.getElementById('scoring-section').style.display = 'none';
                document.getElementById('advance-round').style.display = 'none';
            } else {
                document.getElementById('game-status').textContent = '';
                document.getElementById('scoring-section').style.display = 'block';
                document.getElementById('advance-round').style.display = 'block';
            }
        }

        function submitScores() {
            const scores = [];
            for (let i = 0; i < roundManager.getHandsForRound(); i++) {
                const score = parseInt(document.getElementById(`score-${i}`).value);
                if (isNaN(score)) {
                    alert('Please enter valid scores for all hands.');
                    return;
                }
                scores.push(score);
            }
            roundManager.setScores(scores);
            document.getElementById('submit-scores').disabled = true;
            document.getElementById('advance-round').disabled = false;
        }

        function advanceRound() {
            if (roundManager.advanceRound()) {
                updateDisplay();
            } else {
                alert('Cannot advance round: Scoring not complete or game over.');
            }
        }
    </script>
</body>
</html>